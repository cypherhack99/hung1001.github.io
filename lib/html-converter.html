<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>HTML Converter</title>
    <link rel="stylesheet" type="text/css" href="./bootstrap/css/bootstrap.min.css">
    <script type="text/javascript" src="./jquery/jquery-3.3.1.min.js"></script>
    <script type="text/javascript" src="./clipboard/clipboard.min.js"></script>
    <script type="text/javascript">
    function $(esc_tool) {
        return document.getElementById(esc_tool)
    }
    var char2entity = { "'": '&#39;', '"': '&quot;', '<': '&lt;', '>': '&gt;', '&': '&amp;' };

    function escape_entities(str) {
        var rv = '';
        for (var i = 0; i < str.length; i++) {
            var ch = str.charAt(i);
            rv += char2entity[ch] || ch;
        }
        return rv;
    }

    function do_escape(e) {
        document.getElementById('escaped').value = escape_entities(e.value)
    }
    </script>
</head>

<body style="background-color: rgba(228, 228, 228, .1);">
    <div class="container">
        <div class="row">
            <label>
                <h2>Input</h2></label>
            <textarea id='input' onchange="do_escape(this)" onkeyup="do_escape(this)" rows="10" style="height: 13em; width: 100%;"></textarea>
            <br/>
            <label>
                <h2>Output</h2></label>
            <textarea id="escaped" onclick="this.select()" readonly="readonly" rows="10" style="height: 13sem; width: 100%;"></textarea>
            <br/>
            <br/>
            <button class="btn btn-primary copy-text" data-clipboard-target="#escaped">COPY</button>
            <button class="btn btn-danger reset-text">RESET</button>
        </div>
    </div>
    <script type="text/javascript">
    jQuery(document).ready(function($) {
        $('#input').focus();
        new Clipboard('.copy-text');
        $('.reset-text').click(function() {
            $('#input,#escaped').val('');
            $('#input').focus();
        });
    });
    </script>
</body>

</html>
