<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Image to Base64</title>
    <link rel="stylesheet" type="text/css" href="./bootstrap/css/bootstrap.min.css">
    <script type="text/javascript" src="./jquery/jquery-3.3.1.min.js"></script>
    <script type="text/javascript" src="./clipboard/clipboard.min.js"></script>
    <script type="text/javascript" src="./bootstrap/js/bootstrap.min.js"></script>
    <style type="text/css">
    body {
        background: rgba(202, 202, 202, .3);
    }

    textarea {
        height: 300px;
        width: 100%;
        border-color: #cacaca
    }

    .btn {
        margin: 10px 0 0
    }

    #imgTest img {
        max-height: 150px;
        margin: 0 0 20px
    }
    </style>
</head>

<body>
    <div class="container">
        <div class="row">
            <h3 class="text-center">CONVERT IMAGES TO BASE64</h3>
            <input id="inputFileToLoad" onchange="encodeImageFileAsURL();" type="file">
            <br />
            <div id="imgTest"></div>
        </div>
        <div class="row" style="clear: both">
            <textarea id="results"></textarea>
        </div>
        <div class="row">
            <button class="btn btn-primary" id="btnCopy" data-clipboard-target="#results">COPY</button>
            <button class="btn btn-danger" id="reload" onclick="reLoad()">RELOAD</button>
        </div>
    </div>
    <script type="text/javascript">
    $(document).ready(function() {
        new Clipboard('#btnCopy');
    });

    function reLoad() {
        location.reload();
    }

    $('#btnCopy').tooltip({
        trigger: 'click',
        placement: 'top'
    });

    function setTooltip(message) {
        $('#btnCopy').tooltip('hide')
            .attr('data-original-title', message)
            .tooltip('show');
    }

    function hideTooltip() {
        setTimeout(function() {
            $('#btnCopy').tooltip('hide');
        }, 3000);
    }

    var clipboard = new Clipboard('#btnCopy');

    clipboard.on('success', function(e) {
        setTooltip('Copied');
        hideTooltip();
    });

    clipboard.on('error', function(e) {
        setTooltip('Failed');
        hideTooltip();
    });

    function encodeImageFileAsURL() {  
        var filesSelected = document.getElementById("inputFileToLoad").files;  
        if (filesSelected.length > 0) {   
            var fileToLoad = filesSelected[0];   
            var fileReader = new FileReader();   
            fileReader.onload = function(fileLoadedEvent) {    
                var srcData = fileLoadedEvent.target.result;    
                var newImage = document.createElement('img');    
                newImage.src = srcData;    
                document.getElementById("imgTest").innerHTML = newImage.outerHTML;    
                $("#results").val(newImage.src);   
            }   
            fileReader.readAsDataURL(fileToLoad);  
        } 
    }
    </script>
</body>

</html>